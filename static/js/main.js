(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,a,t){e.exports=t(49)},26:function(e,a,t){},49:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(13),i=t.n(r),c=(t(26),t(10)),l=t(6),s=t.n(l),u=t(9),p=t(1),d=t(2),m=t(4),w=t(3),f=t(5),z={Aktywa:{1:"UB",2:"UBS",3:"B"},Pasywa:{1:"UB",2:"UBS",3:"B"},RZiSKalk:{1:"UBS"},RZiSPor:{1:"UBS"},ZestZmianWKapitale:{1:"UBS",2:"B"},PrzeplywyBezp:{1:"UBS",2:"B"},PrzeplywyPosr:{1:"UBS",2:"U"}},h=function(e,a){var t=z[e];return t[a.klu1.length]?"wyr".concat(t[a.klu1.length]):""},y=function(e){return e.indexOf("-")>=0?"ujemna":""},k=function(e){return e.oblicz?"oblicz":""},v=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(m.a)(this,(e=Object(w.a)(a)).call.apply(e,[this].concat(r)))).onKeyPress=function(e,a,t,n){return function(o){if("Escape"===o.key)return o.target.value=e.org_value,void o.target.select();var r=-1;"Enter"!==o.key&&"ArrowDown"!==o.key||(r=n(t,1)),"ArrowUp"===o.key&&(r=n(t,-1)),-1!==r&&(o.preventDefault(),document.getElementById(a+r).focus())}},t.readonly=function(e,a,t){return"b"===t&&!e.all_edit||a.kontener||a.oblicz?"readonly":""},t.klasy=function(e,a,n){for(var o=arguments.length,r=new Array(o>3?o-3:0),i=3;i<o;i++)r[i-3]=arguments[i];return"ar ".concat(y(a[n])," ").concat(h(e.element,a)," ").concat(a.kontener?"kontener":""," ").concat(t.curr_class(a)," ").concat(k(a)," ").concat(r)},t.tabindex=function(e,a,t){return e.all_edit?void 0:t?a:-1},t.klucz=function(e){return e.el.replace("Aktywa_","").replace("Pasywa_","").replace(/_/g," ")},t.curr_class=function(e){return e.current?"curr":""},t.disabled=function(e){return e.oblicz||e.kontener?"disabled":null},t.onChange=function(e){return function(a){t.props.onChange(e,a)}},t.onFocus=function(e){return function(a){t.props.onFocus(e,a)}},t.onBlur=function(e){return function(a){t.props.onBlur(e,a)}},t.kolumna=function(e){var a=t.props,n=a.raport,r=a.wiersz,i=a.index,c=a.nextRow,l="kwota_"+e;return o.a.createElement("input",{type:"text",id:e+i,tabIndex:t.tabindex(n,i,"a"===e),readOnly:t.readonly(n,r,e),disabled:t.disabled(r),className:t.klasy(n,r,l),onChange:t.onChange(l),onBlur:t.onBlur(l),onFocus:t.onFocus(l),onKeyPress:t.onKeyPress(r,e,i,c),onKeyDown:t.onKeyPress(r,e,i,c),value:r[l]})},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.props,a=e.raport,t=e.wiersz;return o.a.createElement("tr",{className:[h(a.element,t),this.curr_class(t),k(t),t.kontener?" oblicz":""].join(" ").trim()},o.a.createElement("td",{className:"tekst klucz"},this.klucz(t)),o.a.createElement("td",{className:function(e){var a="tekst klu"+10*e.klu1.length;return a+=" wyr"+e.klu1.length,e.oblicz&&(a+=" oblicz"),a}(t)},t.nazwa),o.a.createElement("td",{className:"kwoty"},this.kolumna("a")),o.a.createElement("td",{className:"kwoty end"},this.kolumna("b")))}}]),a}(n.Component),b=function(e){return e?e.toLocaleString("pl-PL",{minimumFractionDigits:2,useGrouping:!0}):""},g=function(e){!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var a=e.trim();if(0===a.length)return a;a=a.replace(/\s/g,"").replace(",",".");var t=Number(a);return isNaN(a)?"":(a=parseFloat(Math.round(100*t)/100).toFixed(2),"0,00"===(a=parseFloat(a).toLocaleString("pl-PL",{minimumFractionDigits:2,useGrouping:!0}))&&(a=""),a)},_=function(e){var a=e.trim().replace(/\s/g,"");a=a.replace(",","."),a=parseFloat(a);var t=Number(a);return isNaN(a)&&(t=0),t},j=t(12),E=t(7),O=t.n(E),N={headers:{"Content-Type":"multipart/form-data"}},S={headers:{Accept:"application/json"}},x=function(e){return window.location.href.replace("jpk/","sf/").replace("#","")+(e?e+"/":"")},C={wprowadz_get:function(){return O.a.get(x(""),S)},wprowadz_save:function(e){return O.a.patch(x(""),e,N)},p8_del:function(e){var a=Object(j.a)(e,1)[0];return O.a.delete(x("p8/"+a.p8_id))},p8_save:function(e){var a=new FormData,t=JSON.stringify(e);a.append("data",t),(e.p8_id?O.a.patch(x("p8/"+e.p8_id),a):O.a.post(x("p8"),a)).then(function(t){a=t.data,e.p8_id=a.p8_id}).catch(function(e){return console.log(e)})},raport_get:function(){return O.a.get(x(""),S)},raport_save:function(e){return O.a.patch(x(""),e)},podatek_get:function(){return O.a.get(x(""),S)},podatek_save:function(e){return O.a.patch(x(""),e,N)},zalacznik_get:function(){return O.a.get(x(""),S)},zalacznik_save:function(e,a){return e?O.a.patch(x(e),a,N):O.a.post(x(""),a,N)},zalacznik_del:function(e){var a=Object(j.a)(e,1)[0];return O.a.delete(x(a.id))},zalacznik_url:function(e){return x(e+"/plik")},xml_get:function(){return O.a.get("/jpk/1172/download/")}},P=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(m.a)(this,Object(w.a)(a).call(this,e))).obliczenie=function(e,a){if(!e)return"";var n=0,o="+";return e.split(" ").forEach(function(e){if(["+","-"].includes(e))o=e;else{var r=t.state.pozycje[parseInt(e)];e=_(a?r.kwota_a:r.kwota_b),n+="+"===o?e:-e}}),n},t.wyrazenie=function(e,a){if(e||0===e){e=parseInt(e);var n=t.state.pozycje[e];a?n.kwota_a=b(t.obliczenie(n.oblicz,a)):n.kwota_b=b(t.obliczenie(n.oblicz,a)),t.wyrazenie(n.zalezne,a)}},t.handleChange=function(e){return function(a,n){e[a]=n.target.value,t.setState(function(e){return e}),t.zmiany=!0}},t.handleBlur=function(e){return function(a,n){e[a]=g(n.target.value),e.current=!1,(e.zalezne||0===e.zalezne)&&t.wyrazenie(e.zalezne,"kwota_a"===a),t.setState(function(e){return e})}},t.handleFocus=function(e){return function(a,n){var o=n.target,r=e[a].trim();r=r.replace(/\s/g,"").replace(",","."),r=parseFloat(r),r=isNaN(r)?"":r.toLocaleString("pl-PL",{useGrouping:!1}),e[a]=r,e.org_value=e[a],e.current=!0,t.setState(function(e){return e},function(){o.select()})}},t.handleSave=function(){var e=Object(u.a)(s.a.mark(function e(a){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.state.pozycje.map(function(e){return{id:e.id,a:_(e.kwota_a),b:_(e.kwota_b)}}),e.next=4,C.raport_save(n);case 4:window.jpk_info("Zmiany zosta\u0142y zapisane"),window.opener.location.reload(!1),t.zmiany=!1,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),window.jpk_error("B\u0142\u0105d przy zapisywaniu raportu",e.t0);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(a){return e.apply(this,arguments)}}(),t.niezerowy=function(e){return t.state.raport.zerowe||e.kwota_a||e.kwota_b},t.handleNextRow=function(e,a){if(a>0)for(;e<t.state.pozycje.length-1&&(e++,t.state.pozycje[e].oblicz||t.state.pozycje[e].kontener););else for(;e>0&&(e--,t.state.pozycje[e].oblicz||t.state.pozycje[e].kontener););return e},t.toggleZerowe=function(e){t.setState(function(e){return{raport:Object(c.a)({},e.raport,{zerowe:!e.raport.zerowe})}})},t.togglePoprzedni=function(e){t.setState(function(e){return{raport:Object(c.a)({},e.raport,{all_edit:!e.raport.all_edit})}})},t.state={raport:"",pozycje:[]},t.zmiany=!1,t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"zapisane",value:function(){return!this.zmiany}},{key:"componentDidMount",value:function(){var e=Object(u.a)(s.a.mark(function e(){var a,t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.raport_get();case 3:a=e.sent,t=a.data.pozycje.map(function(e){return e.kwota_a=b(e.kwota_a),e.kwota_b=b(e.kwota_b),e}),(n=a.data.raport).all_edit=!1,n.zerowe=!0,n.size=t.length,this.setState({raport:n,pozycje:t}),this.zmiany=!1,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),window.jpk_error("B\u0142\u0105d przy ustalaniu pozycji zestawienia",e.t0);case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("form",{autocomplete:"off"},o.a.createElement("div",{className:"raport"},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.raport.zerowe,onChange:this.toggleZerowe,name:"zerowe"})," Zerowe"),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.raport.all_edit,onChange:this.togglePoprzedni,name:"poprzedni"})," Poprzedni rok"),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{className:"al"},"Wiersz"),o.a.createElement("th",null,"Tre\u015b\u0107 / wyszczeg\xf3lnienie"),o.a.createElement("th",{className:"ar"},"Bie\u017c\u0105cy okres"),o.a.createElement("th",{className:"ar end"},"Poprzedni okres"))),o.a.createElement("tbody",null,this.state.pozycje.filter(function(a){return e.niezerowy(a)}).map(function(a,t){return o.a.createElement(v,{key:a.id,raport:e.state.raport,wiersz:a,index:t,onChange:e.handleChange(a),onBlur:e.handleBlur(a),onFocus:e.handleFocus(a),nextRow:e.handleNextRow})})))))}}]),a}(n.Component),D=t(11),F=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(m.a)(this,(e=Object(w.a)(a)).call.apply(e,[this].concat(r)))).edytuj=function(e){return t.props.onSectionEdit(e,t.props.num)},t.ikony=function(){return t.props.readOnly?o.a.createElement("ul",{className:"nav navbar-nav przyciski"},t.props.num>0&&t.props.num<7&&o.a.createElement("li",{onClick:t.edytuj},o.a.createElement("span",{className:"glyphicon glyphicon-pencil","aria-hidden":"true"}))):o.a.createElement("ul",{className:"nav navbar-nav przyciski"},o.a.createElement("li",{onClick:t.props.onZapisz},o.a.createElement("span",{className:"glyphicon glyphicon-floppy-disk","aria-hidden":"true"})),o.a.createElement("li",{onClick:t.props.onCancelEdit},o.a.createElement("span",{className:"glyphicon glyphicon-remove","aria-hidden":"true"})))},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.props,a=e.num,t=e.title;return this.initClass="1"===this.props.num?"in":"",o.a.createElement("div",{className:"panel panel-default"},o.a.createElement("div",{className:"panel-heading",_role:"tab",id:"heading".concat(a)},this.ikony(),o.a.createElement("h4",{className:"panel-title naglowek"},o.a.createElement("a",{role:"button","data-toggle":"collapse","data-parent":"#accordion",href:"#collapse".concat(a),"aria-expanded":"true","aria-controls":"collapse".concat(a)},a,". ",t))),o.a.createElement("div",{className:"panel-body"},this.props.children,this.props.readOnly||o.a.createElement("div",{className:"row przyciski"},o.a.createElement("button",{className:"btn btn-success",onClick:this.props.onZapisz},"Zapisz"),o.a.createElement("button",{className:"btn btn-warning cancel",onClick:this.props.onCancelEdit},"Rezygnuj ze zmian"))))}}]),a}(n.Component),B=function(e){function a(){return Object(p.a)(this,a),Object(m.a)(this,Object(w.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this.props.nazwa)}},{key:"render",value:function(){var e=this,a=this.props,t=a.nazwa,n=a.etykieta,r=a.pomoc,i=a.rows,c=a.form,l=void 0===c?{}:c,s=a.value,u=a.onChange,p=void 0===u?function(e){}:u,d={};return!t.startsWith("p7_")&&"p8_opis"!==t||l.readonly||!l.tah||(d={height:l.tah}),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12"},o.a.createElement("div",{className:"form-group"},t.indexOf("p7_")<0&&o.a.createElement("label",{for:t,className:"control-label"},n),o.a.createElement("textarea",{readOnly:l.readonly,className:"form-control ".concat(l.readonly||"edycja"),rows:i,id:t,name:t,value:s||l[t],onChange:p,"ria-describedby":t+"-help",style:d,ref:function(a){return e.props.focusRef&&e.props.focusRef(a)}}),r?o.a.createElement("p",{id:t+"-help",className:"help-block"},r):"")))}}]),a}(n.Component),T=function(e){var a=e.nazwa,t=e.etykieta,n=e.pomoc,r=e.cols,i=void 0===r?4:r,c=e.form,l=void 0===c?{}:c,s=e.value,u=e.onChange,p=void 0===u?function(e){}:u;return o.a.createElement("div",{className:"col-md-"+i},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:a,className:"control-label"},t),o.a.createElement("input",{readOnly:l.readonly,type:"text",className:"form-control",id:a,name:a,value:s||l[a],onChange:p,"aria-describedby":a+"-help"}),n?o.a.createElement("p",{id:a+"-help",className:"help-block"},n):""))},Z=function(e){var a=e.nazwa,t=e.etykieta,n=(e.pomoc,e.cols),r=void 0===n?4:n,i=e.form,c=void 0===i?{}:i,l=e.value,s=e.onChange,u=void 0===s?function(e){}:s;return o.a.createElement("div",{className:"col-md-"+r},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:a,className:"control-label"},t),o.a.createElement("input",{readOnly:c.readonly,type:"text",pattern:"\\d{4}-\\d{2}-\\d{2}",className:"form-control",id:a,name:a,value:l||c[a],onChange:u,"aria-describedby":a+"-help"}),o.a.createElement("p",{id:a+"-help",className:"help-block"},"Data w formacie RRRR-MM-DD")))},A=function(e){var a=e.nazwa,t=e.etykieta,n=(e.pomoc,e.cols),r=void 0===n?12:n,i=e.form,c=void 0===i?{}:i,l=e.value;return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-"+r},o.a.createElement("div",{className:"checkbox"},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",id:a,name:a,checked:l||c[a]})," ",t))))},K=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=Object(m.a)(this,(e=Object(w.a)(a)).call.apply(e,[this].concat(o)))).handleFocusRef=function(e){t.foc=e},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.foc&&!this.props.form.readonly&&this.foc.focus()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(B,Object.assign({nazwa:"p1_nazwa_firmy",etykieta:"Nazwa firmy",pomoc:"Pe\u0142na nazwa firmy",rows:"2",focusRef:this.handleFocusRef},this.props)),o.a.createElement("div",{className:"row"},o.a.createElement(T,Object.assign({nazwa:"p1_wojewodztwo",etykieta:"Wojew\xf3dztwo"},this.props)),o.a.createElement(T,Object.assign({nazwa:"p1_powiat",etykieta:"Powiat"},this.props)),o.a.createElement(T,Object.assign({nazwa:"p1_gmina",etykieta:"Gmina"},this.props))),o.a.createElement("div",{className:"row"},o.a.createElement(T,Object.assign({nazwa:"p1_miejscowosc",etykieta:"Miejscowo\u015b\u0107"},this.props)),o.a.createElement(T,Object.assign({nazwa:"p1_kod_pocztowy",etykieta:"Kod pocztowy"},this.props)),o.a.createElement(T,Object.assign({nazwa:"p1_poczta",etykieta:"Poczta"},this.props))),o.a.createElement("div",{className:"row"},o.a.createElement(T,Object.assign({nazwa:"p1_ulica",etykieta:"Ulica"},this.props)),o.a.createElement(T,Object.assign({nazwa:"p1_nr_domu",etykieta:"Nr domu"},this.props)),o.a.createElement(T,Object.assign({nazwa:"p1_nr_lokalu",etykieta:"Nr lokalu"},this.props))),o.a.createElement(B,Object.assign({nazwa:"p1_pkd",etykieta:"Przedmiot dzia\u0142alno\u015bci jednostki",pomoc:"Kody PKD okre\u015blaj\u0105ce podstawow\u0105 dzia\u0142alno\u015b\u0107 podmiotu",rows:"1"},this.props)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 wstep"},"Identyfikator podmiotu sk\u0142adaj\u0105cego sprawozdanie finansowe we w\u0142a\u015bciwym rejestrze s\u0105dowym albo ewidencji. W przypadku sprawozda\u0144 finansowych sk\u0142adanych do Szefa KAS wype\u0142nia si\u0119 identyfikator podatkowy. W sprawozdaniach finansowych sk\u0142adanych do KRS wype\u0142nia si\u0119 numer KRS."),o.a.createElement(T,Object.assign({nazwa:"p1_nip",etykieta:"Identyfikator podatkowy (NIP)"},this.props)),o.a.createElement(T,Object.assign({nazwa:"p1_krs",etykieta:"Numer KRS"},this.props))))}}]),a}(n.Component),U=function(e){function a(){return Object(p.a)(this,a),Object(m.a)(this,Object(w.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.props;return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement(Z,Object.assign({nazwa:"p2_data_od",etykieta:"Od dnia"},e)),o.a.createElement(Z,Object.assign({nazwa:"p2_data_do",etykieta:"Do dnia"},e))),o.a.createElement(B,Object.assign({nazwa:"p2_data_do_opis",etykieta:"Do kiedy",rows:"2"},e,{pomoc:'Opis terminu zako\u0144czenia dzia\u0142alno\u015bci (alternatywny do "Do dnia")'})))}}]),a}(n.Component),M=function(e){function a(){return Object(p.a)(this,a),Object(m.a)(this,Object(w.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement(Z,Object.assign({nazwa:"p3_data_od",etykieta:"Pocz\u0105tek okresu"},this.props)),o.a.createElement(Z,Object.assign({nazwa:"p3_data_do",etykieta:"Koniec okresu"},this.props))),o.a.createElement("div",{className:"row"},o.a.createElement(T,Object.assign({nazwa:"p0_data_sporzadzenia",etykieta:"Sporz\u0105dzone",pomoc:"Data sporz\u0105dzenia sprawozdania"},this.props))))}}]),a}(n.Component),R=function(e){function a(){return Object(p.a)(this,a),Object(m.a)(this,Object(w.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(A,Object.assign({nazwa:"p4_laczne",etykieta:"Sprawozdanie finansowe zawiera dane \u0142\u0105czne"},this.props)))}}]),a}(n.Component),I=function(e){function a(){return Object(p.a)(this,a),Object(m.a)(this,Object(w.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(A,Object.assign({nazwa:"p5_kontynuacja"},this.props,{etykieta:"Sprawozdanie finansowe zosta\u0142o sporz\u0105dzone przy za\u0142o\u017ceniu kontynuowania dzia\u0142alno\u015bci gospodarczej przez jednostk\u0119 w daj\u0105cej si\u0119 przewidzie\u0107 przysz\u0142o\u015bci"})),o.a.createElement(A,Object.assign({nazwa:"p5_brak_zagrozen"},this.props,{etykieta:"Nie istniej\u0105 okoliczno\u015bci wskazuj\u0105ce na zagro\u017cenie kontynuowania przez ni\u0105 dzia\u0142alno\u015bci"})),o.a.createElement(B,Object.assign({nazwa:"p5_opis_zagrozen"},this.props,{etykieta:"Opis okoliczno\u015bci wskazuj\u0105cych na zagro\u017cenie kontynuowania dzia\u0142alno\u015bci"})))}}]),a}(n.Component),L=function(e){function a(){return Object(p.a)(this,a),Object(m.a)(this,Object(w.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(A,Object.assign({nazwa:"p6_po_polaczeniu"},this.props,{etykieta:"Sprawozdanie finansowe sporz\u0105dzone po po\u0142\u0105czeniu sp\xf3\u0142ek"})),o.a.createElement(B,Object.assign({nazwa:"p6_metoda"},this.props,{etykieta:"Zastosowana metoda rozliczenia po\u0142\u0105czenia (nabycia, \u0142\u0105czenia udzia\u0142\xf3w)"})))}}]),a}(n.Component),W=function(e){return e.split("\n\n").map(function(e,a){return o.a.createElement("p",{key:a},e.split("\n").map(function(e,a){return o.a.createElement(o.a.Fragment,null,e,o.a.createElement("br",null))}))})};function J(e){if(!e)return null;var a=e.split("\n\n");return a.length>2?o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,a[0]),o.a.createElement("p",null,a[1]),"..."):o.a.createElement(o.a.Fragment,null,a.map(function(e,a){return o.a.createElement("p",null,e)}))}var Y=function(e){return o.a.createElement("a",{href:"/",className:"list-group-item",onClick:e.fullText(e.nazwa)},o.a.createElement("h4",{className:"list-group-item-heading nag"},e.etykieta),J(e.form[e.nazwa]))},G=function(e){function a(){return Object(p.a)(this,a),Object(m.a)(this,Object(w.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"list-group"},o.a.createElement(Y,Object.assign({nazwa:"p7_zasady"},this.props,{etykieta:"Om\xf3wienie przyj\u0119tych zasad (polityki) rachunkowo\u015bci, w zakresie w jakim ustawa pozostawia jednostce prawo wyboru"})),o.a.createElement("div",{className:"wtracenie"},"w tym:"),o.a.createElement(Y,Object.assign({nazwa:"p7_wycena"},this.props,{etykieta:"metod wyceny aktyw\xf3w i pasyw\xf3w (tak\u017ce amortyzacji)"})),o.a.createElement(Y,Object.assign({nazwa:"p7_wynik"},this.props,{etykieta:"ustalenia wyniku finansowego"})),o.a.createElement(Y,Object.assign({nazwa:"p7_spraw"},this.props,{etykieta:"ustalenia sposobu sporz\u0105dzenia sprawozdania finansowego"})))}}]),a}(n.Component),H=function(e){return o.a.createElement("div",null,o.a.createElement("h4",{className:"list-group-item-heading nag"},e.etykieta),W(e.form[e.pole]),o.a.createElement("button",{className:"btn btn-default",onClick:e.onFullTextEdit},"Zmie\u0144"),o.a.createElement("button",{className:"btn btn-default",onClick:e.onFullTextBack},"Powr\xf3t do wprowadzenia"))},$=function(e){return o.a.createElement("div",null,o.a.createElement("h4",{className:"list-group-item-heading nag"},e.etykieta),o.a.createElement(B,Object.assign({nazwa:e.pole,rows:"10",value:e.form[e.pole]},e,{onMount:e.onMount})),o.a.createElement("button",{className:"btn btn-default",type:"submit",value:"Zapisz",onClick:e.onSaveFullText},"Zapisz zmiany"),o.a.createElement("button",{className:"btn btn-default cancel",value:"Anuluj",onClick:e.onCancelFullTextEdit},"Rezygnacja ze zmian"))},q=G,Q=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(m.a)(this,(e=Object(w.a)(a)).call.apply(e,[this].concat(r)))).pozycja=function(e){return o.a.createElement("a",{href:"/",className:"list-group-item",onClick:function(a){return e.onP8Show(a,e.lp)}},o.a.createElement("h4",{className:"list-group-item-heading nag"},e.p8_nazwa),J(e.p8_opis))},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"p8_opis",value:function(e){return e.p8_opis.split("\n").map(function(e,a){return o.a.createElement(o.a.Fragment,null,a&&e.length>0?o.a.createElement("br",null):"",e)})}},{key:"render",value:function(){return this.pozycja(Object(c.a)({},this.props,this.props.poz))}}]),a}(n.Component),V=function(e){return!e.form.readonly||e.form.p8_lp<0?o.a.createElement(X,e):o.a.createElement("div",null,o.a.createElement("h4",{className:"list-group-item-heading nag"},e.form.p8_nazwa),W(e.form.p8_opis),o.a.createElement("button",{className:"btn btn-default",onClick:e.onP8Edit},"Zmie\u0144"),o.a.createElement("button",{className:"btn btn-default cancel",onClick:e.onP8Usun},"Usu\u0144 uszczeg\xf3\u0142owienie"),o.a.createElement("button",{className:"btn btn-default",onClick:e.onP8Back},"Powr\xf3t do wprowadzenia"))},X=function(e){var a=e.form,t=e.onP8Save,n=e.onP8Anuluj;return o.a.createElement("div",null,o.a.createElement("div",{className:"wstep"},"Informacja uszczeg\xf3\u0142awiaj\u0105ca, wynikaj\u0105ca z potrzeb lub specyfiki jednostki"),o.a.createElement("div",{className:"row"},o.a.createElement(T,Object.assign({nazwa:"p8_nazwa",cols:"12",etykieta:"Nazwa pozycji",value:a.p8_nazwa},e))),o.a.createElement(B,Object.assign({nazwa:"p8_opis",rows:"10",etykieta:"Opis",value:a.p8_opis},e)),o.a.createElement("button",{className:"btn btn-default",type:"submit",value:"Zapisz",onClick:t},"Zapisz"),o.a.createElement("button",{className:"btn btn-default cancel",value:"Anuluj",onClick:n},"Rezygnuj ze zmian"))},ee=function(e){function a(){return Object(p.a)(this,a),Object(m.a)(this,Object(w.a)(a).apply(this,arguments))}return Object(f.a)(a,e),Object(d.a)(a,[{key:"uszczegolowienia",value:function(){var e=this;return this.props.form&&this.props.form.p8?this.props.form.p8.map(function(a,t){return o.a.createElement(Q,Object.assign({key:t,len:e.props.len,lp:t,poz:a},e.props))}):""}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"list-group"},this.uszczegolowienia()),o.a.createElement("button",{className:"btn btn-default",onClick:this.props.onDodaj},"Dodaj uszczeg\xf3\u0142owienie"))}}]),a}(n.Component),ae=[[],[K,"Dane identyfikuj\u0105ce jednostk\u0119","Dane identyfikuj\u0105ce jednostk\u0119. Firma, siedziba albo miejsce zamieszkania."],[U,"Czas trwania dzia\u0142alno\u015bci","Czas trwania dzia\u0142alno\u015bci jednostki, <b>je\u017celi jest ograniczony</b>. Zakres dat od - do przy czym data do mo\u017ce mie\u0107 charakter opisowy."],[M,"Okres sprawozdania","Wskazanie okresu obj\u0119tego sprawozdaniem finansowym. Zakres dat od - do z uwzgl\u0119dnieniem ogranicze\u0144 dla elektronicznych sprawozda\u0144 finansowych."],[R,"Dane \u0142\u0105czne","Wskazanie, \u017ce sprawozdanie finansowe zawiera dane \u0142\u0105czne, je\u017celi w sk\u0142ad jednostki wchodz\u0105 wewn\u0119trzne jednostki organizacyjne sporz\u0105dzaj\u0105ce samodzielne sprawozdania finansowe."],[I,"Za\u0142o\u017cenie kontynuacji dzia\u0142alno\u015bci",""],[L,"Sprawozdanie po po\u0142\u0105czeniu",""],[q,"Polityka rachunkowo\u015bci",""]],te={p7_zasady:"Om\xf3wienie przyj\u0119tych zasad (polityki) rachunkowo\u015bci, w zakresie w jakim ustawa pozostawia jednostce prawo wyboru",p7_wycena:"Om\xf3wienie przyj\u0119tej metody wyceny aktyw\xf3w i pasyw\xf3w (tak\u017ce amortyzacji)",p7_wynik:"Om\xf3wienie przyj\u0119tych zasad ustalenia wyniku finansowego",p7_spraw:"Om\xf3wienie sposobu sporz\u0105dzenia sprawozdania finansowego"},ne=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(m.a)(this,Object(w.a)(a).call(this,e))).handleChange=function(e){if("checkbox"!==e.target.type||!t.state.readonly){var a=Object(D.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value);"p8_opis"===e.target.name&&Object.assign(a,{tah:e.target.scrollHeight}),t.zmiany=!0,t.setState(a)}},t.handleP8Change=function(e,a){var n=e.target.name,o=e.target.value,r=e.target.type,i=e.target.checked;t.setState(function(e,t){return e.p8[a][n]="checkbox"===r?i:o,{p8:e.p8}})},t.handleP8Show=function(e,a){t.old_y=window.pageYOffset,e.preventDefault(),t.new_y=0,t.setState(function(e,t){var n=e.p8[a],o=n.p8_nazwa,r=n.p8_opis;return{view:"uszczegolowienie",p8_lp:a,p8_nazwa:o,p8_opis:r}})},t.handleP8Back=function(e){t.new_y=t.old_y,t.old_y=void 0,e.preventDefault(),t.setState(function(e,a){t.setState({view:"calosc",lp:-1})})},t.handleP8Save=function(e){e.preventDefault(),t.new_y=0,t.zmiany=!1,t.setState(function(e,a){var t=e.p8_nazwa,n=e.p8_opis,o=e.p8,r=e.p8_lp;return r<0?(o.push({p8_id:0,p8_nazwa:t,p8_opis:n}),r=o.length-1):Object.assign(o[r],{p8_nazwa:t,p8_opis:n}),{p8:o,p8_lp:r,readonly:!0}},function(){t.onP8Save()})},t.handleP8Edit=function(e){t.new_y=0,e.preventDefault(),t.setState(function(e,a){return{readonly:!1}})},t.handleP8Usun=function(e,a){t.new_y=t.old_y,t.old_y=void 0,e.preventDefault();var n=void 0;t.setState(function(e,a){var t=e.p8_lp,o=(e.p8_nazwa,e.p8_opis,e.p8);return t>=0&&(n=o.splice(t,1)),{p8:o,view:"calosc"}},function(){C.p8_del(n)})},t.handleP8Anuluj=function(e){t.new_y=0,e.preventDefault(),t.setState(function(e,a){var n=t.state.p8_lp;if(n>=0){var o=e.p8[n],r=o.p8_nazwa,i=o.p8_opis;t.setState({readonly:!0,p8_nazwa:r,p8_opis:i})}else t.new_y=t.old_y,t.setState({readonly:!0,view:"calosc"})})},t.handleDodaj=function(e){t.old_y=window.pageYOffset,t.new_y=0,e.preventDefault(),t.setState(function(e,a){return{p8_lp:-1,p8_nazwa:"",p8_opis:"",view:"uszczegolowienie",readonly:!1}})},t.uszczegolowienie=function(){return o.a.createElement(V,{form:t.state,onP8Edit:t.handleP8Edit,onP8Back:t.handleP8Back,onP8Save:t.handleP8Save,onP8Usun:t.handleP8Usun,onP8Anuluj:t.handleP8Anuluj,onMount:t.handleMount})},t.handleFullText=function(e){return function(a){a.preventDefault(),t.old_y=window.pageYOffset,t.new_y=0,t.setState(function(a,t){return{view:"full_text",pole:e}})}},t.handleFullTextEdit=function(e){t.new_y=0,e.preventDefault(),t.zmiany=!1,t.setState(function(e,a){return{view:"full_text_edit",readonly:!1}})},t.handleFullTextSave=function(e){t.new_y=0,e.preventDefault(),t.onSave(e),t.setState(function(e,a){return{view:"full_text",readonly:!0,tah:void 0}}),t.zmiany=!1},t.handleFullTextBack=function(e){t.new_y=t.old_y,t.old_y=void 0,e.preventDefault(),t.setState(function(e,a){t.setState({view:"calosc",tah:void 0})})},t.handleCancelFullTextEdit=function(e){e.preventDefault(),t.new_y=0,t.readData({view:"full_text",readonly:!0,tah:void 0})},t.full_text=function(){return o.a.createElement(H,{pole:t.state.pole,etykieta:te[t.state.pole],form:t.state,onFullTextEdit:t.handleFullTextEdit,onFullTextBack:t.handleFullTextBack})},t.handleMount=function(e){t.setState({tah:document.getElementById(e).scrollHeight})},t.full_text_edit=function(){return o.a.createElement($,{pole:t.state.pole,etykieta:te[t.state.pole],form:t.state,onSaveFullText:t.handleFullTextSave,onCancelFullTextEdit:t.handleCancelFullTextEdit,onMount:t.handleMount})},t.view=function(){var e=null;switch(t.zmiany=!1,t.state.view){case"uszczegolowienie":e=t.uszczegolowienie();break;case"full_text":e=t.full_text();break;case"full_text_edit":e=t.full_text_edit();break;case"sekcja":e=t.P(t.state.num);break;default:e=t.calosc()}return e},t.readData=function(){var e=Object(u.a)(s.a.mark(function e(a){var n,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.wprowadz_get();case 3:n=e.sent,o=n.data.form,t.setState(Object(c.a)({},o,a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),window.jpk_error("B\u0142\u0105d przy ustalaniu danych wprowadzenia",e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(a){return e.apply(this,arguments)}}(),t.onSave=function(e){var a=new FormData,n=JSON.stringify(t.state);a.append("data",n),t.zmiany=!1,C.wprowadz_save(a).catch(function(e){return console.error("B\u0142\u0105d przy zapisywaniu wprowadzenia",e)})},t.onP8Save=function(){var e=t.state.p8_lp,a=t.state.p8[e];a.p8_id,C.p8_save(a)},t.handleSectionEdit=function(e,a){t.old_y=window.pageYOffset,t.new_y=0,t.setState({view:"sekcja",num:a,readonly:!1})},t.handleZapisz=function(e){t.new_y=t.old_y,t.old_y=void 0,e.preventDefault(),t.onSave(e),t.setState(function(e,a){return{view:"calosc",readonly:!0}})},t.handleCancelEdit=function(e){e.preventDefault(),t.new_y=t.old_y,t.old_y=void 0,t.readData({view:"calosc",readonly:!0})},t.componentDidUpdate=function(){void 0!==t.new_y&&(window.scrollTo(0,t.new_y),t.new_y=void 0)},t.old_y=null,t.new_y=null,t.P=function(e){var a=Object(j.a)(ae[e],3),n=a[0],r=a[1],i=a[2];return o.a.createElement(F,{num:"".concat(e),title:r,onSectionEdit:t.handleSectionEdit,onZapisz:t.handleZapisz,onCancelEdit:t.handleCancelEdit,readOnly:t.state.readonly},o.a.createElement("div",{className:"wstep",dangerouslySetInnerHTML:{__html:i}}),o.a.createElement(n,{form:t.state,fullText:t.handleFullText,onFullTextEdit:t.handleFullTextEdit}))},t.calosc=function(){return o.a.createElement("div",{className:"panel-group",id:"accordion",role:"tablist","aria-multiselectable":"true"},t.P(1),t.P(2),t.P(3),t.P(4),t.P(5),t.P(6),t.P(7),o.a.createElement(F,{num:"8",title:"Informacja uszczeg\xf3\u0142awiaj\u0105ca",readOnly:t.state.readonly},o.a.createElement("div",{className:"wstep"},"Informacja uszczeg\xf3\u0142awiaj\u0105ca, wynikaj\u0105ca z potrzeb lub specyfiki jednostki"),o.a.createElement(ee,{len:t.state.p8.length,form:t.state,onP8Change:t.handleP8Change,onDodaj:t.handleDodaj,onP8Show:t.handleP8Show,onP8Edit:t.handleP8Edit})))},t.state={readonly:!0,view:"calosc",p8:[]},t.zmiany=!1,t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"zapisane",value:function(){return!this.zmiany}},{key:"render",value:function(){return o.a.createElement("div",{className:"panel-body"},o.a.createElement("form",{onChange:this.handleChange,autocomplete:"off"},this.view()))}},{key:"componentDidMount",value:function(){this.readData({})}}]),a}(n.Component),oe=function(e,a){return e.indexOf("kwota")>=0&&a.indexOf("-")>=0?"ujemna":""},re=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(m.a)(this,(e=Object(w.a)(a)).call.apply(e,[this].concat(r)))).readonly=function(e,a,t){return a.kontener||a.oblicz||1===a.klucz.length&&0===t.indexOf("pp")?"readonly":""},t.klasy=function(e,a,n,o){for(var r=a[n],i=arguments.length,c=new Array(i>4?i-4:0),l=4;l<i;l++)c[l-4]=arguments[l];return"ar ".concat(oe(n,r)," ").concat(a.kontener?"kontener":""," ").concat(t.curr_class(a)," ").concat(c," ").concat(1===a.klucz.length&&o?"wyrUSB kontener":"")},t.tabindex=function(e,a,t){return e.all_edit?void 0:t?a:-1},t.klucz=function(e){return e.klucz.replace("Aktywa_","").replace("Pasywa_","").replace(/_/g," ")},t.curr_class=function(e){return e.current?"curr":""},t.onChange=function(e){return function(a){t.props.onChange(e,a)}},t.onBlur=function(e){return function(a){t.props.onBlur(e,a)}},t.onFocus=function(e){return function(a){t.props.onFocus(e,a)}},t.onKeyPress=function(e,a,n){return function(o){if("Escape"===o.key)return o.target.value=e.org_value,void o.target.select();var r=-1;if("Enter"!==o.key&&"ArrowDown"!==o.key||(r=n+1<t.props.raport.size?n+1:n),"ArrowUp"===o.key&&(r=n>0?n-1:0),-1!==r){o.preventDefault();var i=document.getElementById(a+r);i&&i.focus()}}},t.input=function(e,a,n,r,i){var c=i.indexOf("kwota")>=0?"kwoty ar":"pp";return 1===a.klucz.length&&0===i.indexOf("pp")?o.a.createElement("td",null," "):o.a.createElement("td",{className:c},o.a.createElement("input",{type:"text",autocomplete:"off",id:i+r,tabIndex:t.tabindex(e,r,!1),readOnly:t.readonly(e,a,i),className:t.klasy(e,a,i,n),onChange:t.onChange(i),onBlur:t.onBlur(i),onFocus:t.onFocus(i),onKeyPress:t.onKeyPress(a,i,r),onKeyDown:t.onKeyPress(a,i,r),value:a[i]}))},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.props,a=e.raport,t=e.wiersz,n=e.index,r=e.podstawa;return o.a.createElement("tr",{className:[function(e,a){var t={1:a?"UBS kontener":""};return t[e.klucz.length]?"wyr".concat(t[e.klucz.length]):""}(t,r),this.curr_class(t)].join(" ").trim()},o.a.createElement("td",{className:"tekst klucz"},this.klucz(t)),o.a.createElement("td",{className:function(e){var a="tekst klu"+10*e.klucz.length;return a+=" wyr"+e.klucz.length}(t)},t.nazwa),this.input(a,t,r,n,"kwota_a"),this.props.kapitalowe&&this.input(a,t,r,n,"kwota_b"),this.props.kapitalowe&&this.input(a,t,r,n,"kwota_c"),this.props.podstawa&&this.input(a,t,r,n,"ppa"),this.props.podstawa&&this.input(a,t,r,n,"ppb"),this.props.podstawa&&this.input(a,t,r,n,"ppc"),this.props.podstawa&&this.input(a,t,r,n,"ppd"),this.props.poprzedni&&this.input(a,t,r,n,"_kwota_a"))}}]),a}(n.Component),ie=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(m.a)(this,Object(w.a)(a).call(this,e))).handleSave=function(){var e=Object(u.a)(s.a.mark(function e(a){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new FormData).append("data",JSON.stringify(t.state.pozycje.map(function(e){return{id:e.id,a:_(e.kwota_a),b:_(e.kwota_b),c:_(e.kwota_c),ppa:e.ppa,ppb:e.ppb,ppc:e.ppc,ppd:e.ppd,_a:_(e._kwota_a)}}))),e.next=5,C.podatek_save(n);case 5:window.jpk_info("Zmiany zosta\u0142y zapisane"),window.opener.location.reload(!1),t.zmiany=!1,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),window.jpk_error("B\u0142\u0105d przy zapisywaniu rozliczenia r\xf3\u017cnicy",e.t0);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(a){return e.apply(this,arguments)}}(),t.obliczenie=function(e,a){if(!e)return"";var n=0,o="+";return e.split(" ").forEach(function(e){if(["+","-"].includes(e))o=e;else{var r=t.state.pozycje[parseInt(e)];e=_(r[a]),n+="+"===o?e:-e}}),n},t.wyrazenie=function(e,a){if(e){e=parseInt(e);var n=t.state.pozycje[e];switch(a){case"kwota_a":n.kwota_a=b(t.obliczenie(n.oblicz,a));break;case"kwota_b":n.kwota_b=b(t.obliczenie(n.oblicz,a));break;case"kwota_c":n.kwota_c=b(t.obliczenie(n.oblicz,a))}t.wyrazenie(n.zalezne,a)}},t.onChange=function(e){return function(a,n){e[a]=n.target.value,t.setState(function(e){return e}),t.zmiany=!0}},t.onBlur=function(e){return function(a,n){e[a]=a.indexOf("kwota")>=0?g(n.target.value):n.target.value,e.current=!1,e.zalezne&&t.wyrazenie(e.zalezne,!1),t.setState(function(e){return e})}},t.onFocus=function(e){return function(a,n){var o=n.target,r=e[a];r&&(r=r.trim()),a.indexOf("kwota")>=0&&(r=r.replace(/\s/g,"").replace(",","."),r=parseFloat(r),r=isNaN(r)?"":r.toLocaleString("pl-PL",{useGrouping:!1})),e[a]=r,e.org_value=r,e.current=!0,t.setState(function(e){return e},function(){o.select()})}},t.niezerowy=function(e){return t.state.raport.zerowe||e.kwota_a||e.kwota_b||e.kwota_c},t.toggleKapitalowe=function(e){t.setState({kapitalowe:!t.state.kapitalowe})},t.togglePoprzedni=function(e){t.setState({poprzedni:!t.state.poprzedni})},t.state={raport:"",pozycje:[]},t.zmiany=!1,t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"zapisane",value:function(){return!this.zmiany}},{key:"componentDidMount",value:function(){var e=Object(u.a)(s.a.mark(function e(){var a,t,n,o,r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.podatek_get();case 3:a=e.sent,t=a.data.pozycje.map(function(e){return e.kwota_a=b(e.kwota_a),e.kwota_b=b(e.kwota_b),e.kwota_c=b(e.kwota_c),e._kwota_a=b(e._kwota_a),e}),n=!1,o=!1,r=!1,t.forEach(function(e){e.klucz.length>1&&(n=!0),(e.kwota_b||e.kwota_c)&&(o=!0),e._kwota_a&&(r=!0)}),(i=a.data.raport).all_edit=!0,i.zerowe=!0,i.size=t.length,this.setState({raport:i,pozycje:t,kapitalowe:o,poprzedni:r,podstawa:n}),this.zmiany=!1,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),window.jpk_error("B\u0142\u0105d przy ustalaniu pozycji rozliczenia",e.t0);case 20:case"end":return e.stop()}},e,this,[[0,17]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"raport"},o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.kapitalowe,onChange:this.toggleKapitalowe,name:"kapitalowe"})," Kapita\u0142owe/inne"),o.a.createElement("label",null,o.a.createElement("input",{type:"checkbox",checked:this.state.poprzedni,onChange:this.togglePoprzedni,name:"poprzedni"})," Poprzedni rok"),o.a.createElement("table",{class:"tpod"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{rowspan:"2"},"Lp"),o.a.createElement("th",{rowspan:"2"},"Tre\u015b\u0107 / wyszczeg\xf3lnienie"),o.a.createElement("th",{colspan:this.state.kapitalowe?"3":"1",className:!this.state.kapitalowe&&"ar"},"Bie\u017c\u0105cy rok"),this.state.podstawa&&o.a.createElement("th",{colspan:"4"},"Podstawa prawna"),this.state.poprzedni&&o.a.createElement("th",{rowspan:"2",className:"ar"},"Poprzedni rok",o.a.createElement("br",null),"\u0141\u0105cznie")),o.a.createElement("tr",null,o.a.createElement("th",{className:"ar"},"\u0141\u0105cznie"),this.state.kapitalowe&&o.a.createElement("th",{className:"ar"},"z zysk\xf3w kapita\u0142owych"),this.state.kapitalowe&&o.a.createElement("th",{className:"ar"},"z innych \u017ar\xf3de\u0142"),this.state.podstawa&&o.a.createElement("th",null,"Art."),this.state.podstawa&&o.a.createElement("th",null,"Ust."),this.state.podstawa&&o.a.createElement("th",null,"Pkt"),this.state.podstawa&&o.a.createElement("th",null,"Lit."))),o.a.createElement("tbody",null,this.state.pozycje.filter(function(a){return e.niezerowy(a)}).map(function(a,t){return o.a.createElement(re,{key:a.id,raport:e.state.raport,wiersz:a,index:t,kapitalowe:e.state.kapitalowe,podstawa:e.state.podstawa,poprzedni:e.state.poprzedni,onChange:e.onChange(a),onBlur:e.onBlur(a),onFocus:e.onFocus(a)})}))))}}]),a}(n.Component),ce=function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(m.a)(this,(e=Object(w.a)(a)).call.apply(e,[this].concat(r)))).ikony=function(){return o.a.createElement("ul",{className:"nav navbar-nav przyciski"},o.a.createElement("li",{onClick:function(e){return t.props.onShow(e,t.props.lp)}},o.a.createElement("span",{className:"glyphicon glyphicon-pencil","aria-hidden":"true"})))},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"render",value:function(){var e=this.props,a=C.zalacznik_url(e.poz.id);return o.a.createElement("div",{className:"panel panel-default"},o.a.createElement("div",{className:"panel-heading"},this.ikony(),o.a.createElement("a",{href:a},e.poz.nazwa)),o.a.createElement("div",{className:"panel-body"},J(e.poz.opis)))}}]),a}(n.Component),le=function(e){var a=e.form,t=e.onFileChange,n=e.onSave,r=e.onDelete,i=e.onCancel;return o.a.createElement("div",{className:"panel panel-default"},o.a.createElement("div",{className:"panel-body"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"nazwa_pliku",className:"control-label"},"Plik za\u0142\u0105cznika"),o.a.createElement("div",{className:"input-group"},o.a.createElement("label",{className:"input-group-btn"},o.a.createElement("span",{className:"btn btn-primary"},"Wyb\xf3r pliku ",o.a.createElement("input",{type:"file",onChange:t}))),o.a.createElement("input",{type:"text",id:"nazwa_pliku",value:a.nazwa,class:"form-control",readOnly:!0}))),o.a.createElement(B,Object.assign({nazwa:"opis",rows:"5",etykieta:"Opis zawarto\u015bci za\u0142\u0105cznika",value:a.opis},e)),o.a.createElement("div",{className:"przyciski przyciski2"},o.a.createElement("button",{className:"btn btn-default",type:"submit",value:"Save",onClick:n},"Zapisz"),o.a.createElement("button",{className:"btn btn-default",type:"submit",value:"Delete",onClick:r},"Usu\u0144"),o.a.createElement("button",{className:"btn btn-default cancel",value:"Cancel",onClick:i},"Rezygnuj ze zmian"))))},se=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(m.a)(this,Object(w.a)(a).call(this,e))).old_y=null,t.new_y=null,t.handleDodaj=function(e){e.preventDefault(),t.old_y=window.pageYOffset,t.new_y=0,t.setState(function(e,a){return{lp:-1,nazwa:"",opis:"",view:"zalacznik",readonly:!1}})},t.handleShow=function(e,a){e.preventDefault(),t.old_y=window.pageYOffset,t.new_y=0,t.setState(function(e,t){var n=e.pozycje[a],o=n.nazwa,r=n.opis;return{view:"zalacznik",readonly:!1,lp:a,nazwa:o,opis:r}})},t.handleFileChange=function(e){t.setState({selectedFile:e.target.files[0],nazwa:e.target.files[0].name,loaded:0})},t.handleBack=function(e){t.new_y=t.old_y,t.old_y=void 0,e.preventDefault(),t.setState(function(e,a){t.setState({view:"calosc",lp:-1})})},t.handleSave=function(){var e=Object(u.a)(s.a.mark(function e(a){var n,o,r,i,c,l,u,p,d,m,w;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),t.new_y=0,n=new FormData,o=t.state.selectedFile,r=o?o.name:void 0,n.append("file",o,r),i=t.state,c=i.pozycje,l=i.lp,u=i.opis,p=l>=0?c[l].id:0,d={id:p,opis:u},n.append("form",JSON.stringify(d)),e.next=12,C.zalacznik_save(p,n);case 12:m=e.sent,w=m.data.poz,l>=0?c[l]=w:c.push(w),t.setState({readonly:!0,view:"calosc",pozycje:c});case 16:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),t.handleDelete=function(e,a){t.new_y=t.old_y,t.old_y=void 0,e.preventDefault();var n=void 0;t.setState(function(e,a){var t=e.lp,o=(e.nazwa,e.opis,e.pozycje);return t>=0&&(n=o.splice(t,1)),{pozycje:o,view:"calosc",readonly:!0}},function(){C.zalacznik_del(n)})},t.handleCancel=function(e){e.preventDefault(),t.new_y=0,t.setState(function(e,a){var n=t.state.lp;if(n>=0){var o=e.pozycje[n],r=o.nazwa,i=o.opis;t.setState({readonly:!0,nazwa:r,opis:i,view:"calosc"})}else t.new_y=t.old_y,t.setState({readonly:!0,view:"calosc"})})},t.zalacznik=function(){return o.a.createElement(le,{form:t.state,onFileChange:t.handleFileChange,onBack:t.handleBack,onSave:t.handleSave,onDelete:t.handleDelete,onCancel:t.handleCancel,onMount:t.handleMount})},t.calosc=function(){return o.a.createElement("div",{className:"panel-group",id:"accordion",role:"tablist","aria-multiselectable":"true"},o.a.createElement("div",{className:"list-group"},t.zalaczniki()),o.a.createElement("button",{className:"btn btn-default",onClick:t.handleDodaj},"Dodaj za\u0142\u0105cznik"))},t.view=function(){var e=null;switch(t.state.view){case"zalacznik":e=t.zalacznik();break;default:e=t.calosc()}return e},t.handleChange=function(e){if("checkbox"!==e.target.type||!t.state.readonly){var a=Object(D.a)({},e.target.name,"checkbox"===e.target.type?e.target.checked:e.target.value);"opis"===e.target.name&&Object.assign(a,{tah:e.target.scrollHeight}),t.setState(a)}},t.state={readonly:!0,view:"calosc"},t}return Object(f.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(u.a)(s.a.mark(function e(){var a,t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.zalacznik_get();case 2:a=e.sent,t=a.data.pozycje,this.setState({pozycje:t,lp:t.length});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"zalaczniki",value:function(){var e=this;return this.state.pozycje?this.state.pozycje.map(function(a,t){return o.a.createElement(ce,{key:a.id,lp:t,poz:a,onShow:e.handleShow})}):""}},{key:"render",value:function(){return o.a.createElement("div",{className:"panel-body"},o.a.createElement("form",{onChange:this.handleChange,autoComplete:"off"},this.view()))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.location.href.indexOf("wprowadz")>=0?i.a.render(o.a.createElement(ne,{ref:function(e){window.app=e}}),document.getElementById("wprowadz")):window.location.href.indexOf("podatek")>=0?i.a.render(o.a.createElement(ie,{ref:function(e){window.app=e}}),document.getElementById("podatek")):window.location.href.indexOf("dodatkowe")>=0?i.a.render(o.a.createElement(se,{ref:function(e){window.app=e}}),document.getElementById("dodatkowe")):i.a.render(o.a.createElement(P,{ref:function(e){window.app=e}}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,2,1]]]);
//# sourceMappingURL=main.30b17227.chunk.js.map